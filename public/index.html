<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Zero-build React + Import Maps</title>

    <!-- Import Map: mapea "react" y "react-dom/client" a URLs ESM -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client"
      }
    }
    </script>

    <style>
      *, *::before, *::after { box-sizing: border-box; }
      :root {
        color-scheme: light dark;
        --card: #ffffff;
        --ios-bg: #f2f2f7; /* iOS grouped background */
        --text: #1c1c1e;
        --muted: #6e6e73;
        --tint: #0a84ff; /* iOS blue */
        --tint-2: #5856d6; /* iOS indigo */
        --radius-xl: 22px;
        --radius-lg: 16px;
        --radius-md: 14px;
        --shadow-soft: 0 8px 24px rgba(6, 8, 24, 0.08);
        --border-color: #e6e6ea;
        --border: 1px solid var(--border-color);
        --ring: 0 0 0 3px rgba(10,132,255,0.12);
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background: #fbfbfd; /* fondo claro estilo iOS */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: var(--text);
      }
      #root { display: grid; place-items: start center; min-height: 100vh; padding: 28px 12px 40px; }
      .container { width: 100%; max-width: 1160px; display: grid; gap: 16px; }
      .headline { margin-top: 4px; margin-bottom: 4px; }
      .headline h1 { margin: 0; font-size: 40px; letter-spacing: -0.02em; font-weight: 800; color: #0b1220; }
      .headline p { margin: 6px 0 0 0; color: var(--muted); font-size: 16px; opacity: .85; }

      .two-col { display: grid; grid-template-columns: 1.1fr 0.9fr; gap: 28px; align-items: start; }
      @media (max-width: 980px) { .two-col { grid-template-columns: 1fr; } }
      .card { width: 100%; background: var(--card); border: var(--border); border-radius: var(--radius-xl); box-shadow: var(--shadow-soft); padding: 20px; }
      .header { padding: 0; background: transparent; border: none; box-shadow: none; }
      .section-title { display: flex; align-items: center; gap: 10px; margin: 0 0 12px; font-size: 13px; font-weight: 700; letter-spacing: .02em; text-transform: uppercase; }
      .divider { height: 1px; background: var(--border-color); margin: 8px 0 16px; border-radius: 1px; }
      /* Chat */
      .messages { display: grid; gap: 10px; max-height: 260px; overflow-y: auto; padding: 14px; background: var(--ios-bg); border-radius: 16px; border: var(--border); margin-top: 12px; margin-bottom: 16px; }
      .bubble { display: inline-block; padding: 12px 14px; border-radius: 18px; max-width: 74%; box-shadow: 0 1px 0 rgba(0,0,0,0.04); white-space: pre-wrap; word-break: break-word; animation: bubbleIn .12s ease both; }
      .bubble.assistant { background: #e9e9eb; color: #000; border: 1px solid #d8d8dc; }
      .bubble.user { background: var(--tint); color: #fff; }
      .row-right { justify-self: end; }
      .row-left { justify-self: start; }
      .input-bar { display: grid; grid-template-columns: 1fr 44px; gap: 12px; align-items: center; }
      textarea.input { resize: none; width: 100%; min-height: 88px; max-height: 160px; padding: 12px 14px; border-radius: 14px; border: var(--border); background: #fff; box-shadow: inset 0 -1px 0 rgba(0,0,0,0.04); font-family: inherit; outline: none; }
      textarea.input::placeholder { color: #9aa0a6; opacity: .7; }
      textarea.input:focus { box-shadow: var(--ring); border-color: #b6d4ff; }
      .send { height: 44px; width: 44px; border-radius: 14px; border: none; cursor: pointer; background: #0b1220; color: #fff; font-weight: 600; box-shadow: 0 10px 18px rgba(11,18,32,0.2); display: grid; place-items: center; transition: background .15s ease, box-shadow .15s ease, opacity .15s ease; }
      .send:disabled { opacity: .45; cursor: not-allowed; box-shadow: none; }
      .send:not(:disabled):hover { background: #121a2e; }
      .send svg { width: 18px; height: 18px; }
      /* Poke section */
      .chip-row { display: flex; flex-wrap: wrap; gap: 8px; margin: 10px 0 14px; }
      .chip { padding: 8px 12px; background: #f1f2f6; border-radius: 999px; border: var(--border); font-size: 13px; color: #333; cursor: pointer; }
      .searchbar { display: grid; grid-template-columns: 1fr 120px; gap: 12px; }
      .searchbar input { height: 44px; border-radius: 14px; border: var(--border); padding: 0 14px; background: white; outline: none; }
      .searchbar input:focus { box-shadow: var(--ring); border-color: #b6d4ff; }
      .btn-primary { height: 44px; border-radius: 14px; border: none; background: #0b1220; color: white; font-weight: 600; cursor: pointer; }
      .btn-primary:hover { background: #121a2e; }
      .tabs { display: flex; gap: 18px; margin-top: 8px; padding-bottom: 10px; border-bottom: 1px solid var(--border-color); position: relative; }
      .tab { color: var(--muted); font-weight: 600; cursor: pointer; }
      .tab.active { color: #0b1220; position: relative; }
      .tab.active::after { content: ""; position: absolute; left: 0; right: 0; bottom: -8px; height: 2px; background: #0b1220; border-radius: 2px; }
      .list { display: grid; gap: 12px; margin-top: 16px; }
      .list-item { display: grid; grid-template-columns: 1fr auto; align-items: center; padding: 16px; background: white; border: var(--border); border-radius: 14px; transition: background .15s ease, border-color .15s ease; }
      .list-item:hover { background: #fafafb; border-color: #e2e2e7; }
      .list-item:active { background: #f4f4f6; }
      .list-item h4 { margin: 0 0 6px 0; }
      .list-item p { margin: 0; color: var(--muted); font-size: 13px; }
      .chevron { color: #98a0aa; display: grid; place-items: center; padding-left: 12px; }
      .chevron svg { width: 18px; height: 18px; }

      .loading { color: var(--tint-2); font-size: 16px; }
      .error { color: #e74c3c; padding: 12px 14px; background: #fee; border-radius: 12px; border: 1px solid #f8d0d0; }

      /* Scrollbars */
      .messages::-webkit-scrollbar { width: 10px; }
      .messages::-webkit-scrollbar-track { background: #f0f0f4; border-radius: 8px; }
      .messages::-webkit-scrollbar-thumb { background: #c8cbd2; border-radius: 8px; }

      @keyframes bubbleIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }

      /* Markdown Reader Styles */
      .md { color: #0b1220; font-size: 18px; line-height: 1.7; letter-spacing: 0; }
      .md h1, .md h2, .md h3 { color: #0b1220; }
      .md h1 { font-size: 34px; margin: 0 0 14px 0; }
      .md h2 { font-size: 22px; margin: 24px 0 10px; }
      .md h3 { font-size: 18px; margin: 20px 0 8px; }
      .md p { margin: 0 0 14px 0; }
      .md ul, .md ol { padding-left: 22px; margin: 0 0 14px 0; }
      .md li { margin: 6px 0; }
      .md hr { border: 0; height: 1px; background: var(--border-color); margin: 22px 0; }
      .md blockquote { margin: 18px 0; padding: 14px 16px; background: #f4f7ff; border-left: 4px solid #0a84ff; border-radius: 10px; color: #0b1220; }
      .md blockquote p { margin: 6px 0; }
      .md code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background: #f6f8fa; border: 1px solid #eaeef2; border-radius: 6px; padding: 2px 5px; }
      .md pre { background: #0b1220; color: #f7f7f8; border-radius: 14px; padding: 16px; overflow: auto; }
    </style>
  </head>
  <body>
    <div id="root"><div class="card"><p class="loading">Cargando UI...</p></div></div>

    <!-- Cargar la app como mÃ³dulo ESM -->
    <script type="module">
      (async () => {
        const rootEl = document.getElementById('root');
        try {
          const React = await import('https://esm.sh/react@18.2.0');
          const { createRoot } = await import('https://esm.sh/react-dom@18.2.0/client');
          const { default: App } = await import('/zero/app.js');
          createRoot(rootEl).render(React.createElement(App));
        } catch (e) {
          rootEl.innerHTML = `<div class="card"><div class="error">Error cargando UI: ${e.message}</div></div>`;
          console.error(e);
        }
      })();
    </script>
  </body>
</html>
