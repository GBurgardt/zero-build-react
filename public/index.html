<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Zero-build React + Import Maps</title>

    <!-- Import Map: mapea "react" y "react-dom/client" a URLs ESM -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client"
      }
    }
    </script>

    <style>
      :root {
        color-scheme: light dark;
        --bg-start: #b5c2ff;
        --bg-end: #9b8cff;
        --card: rgba(255, 255, 255, 0.9);
        --ios-bg: #f2f2f7; /* iOS grouped background */
        --text: #1c1c1e;
        --muted: #6e6e73;
        --tint: #0a84ff; /* iOS blue */
        --tint-2: #5856d6; /* iOS indigo */
        --radius-xl: 28px;
        --radius-lg: 20px;
        --radius-md: 14px;
        --shadow-soft: 0 10px 30px rgba(6, 8, 24, 0.12);
        --border: 1px solid rgba(0,0,0,0.06);
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background: linear-gradient(135deg, var(--bg-start) 0%, var(--bg-end) 100%);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: var(--text);
      }
      #root {
        display: grid;
        place-items: start center;
        min-height: 100vh;
        padding: 32px 16px 48px;
      }
      .container {
        width: 100%;
        max-width: 820px; /* iPhone feel but nice on desktop */
        display: grid;
        gap: 28px;
      }
      .card {
        width: 100%;
        background: var(--card);
        backdrop-filter: blur(10px);
        border: var(--border);
        border-radius: var(--radius-xl);
        box-shadow: var(--shadow-soft);
        padding: 22px;
      }
      .header {
        text-align: center;
        padding: 18px 22px;
      }
      .title {
        margin: 0 0 6px 0;
        font-size: 28px;
        letter-spacing: -0.02em;
      }
      .subtitle {
        margin: 0;
        color: var(--muted);
      }
      .section-title {
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 6px 0 14px;
        font-size: 17px;
      }
      .divider {
        height: 8px;
        border-radius: 999px;
        background: linear-gradient(90deg, var(--tint), var(--tint-2));
        margin: 4px 0 20px;
        opacity: 0.2;
      }
      /* Chat */
      .messages {
        display: grid;
        gap: 10px;
        max-height: 340px;
        overflow-y: auto;
        padding: 6px;
        background: var(--ios-bg);
        border-radius: var(--radius-lg);
        border: var(--border);
      }
      .bubble {
        display: inline-block;
        padding: 10px 14px;
        border-radius: 18px;
        max-width: 78%;
        box-shadow: 0 1px 0 rgba(0,0,0,0.04);
        white-space: pre-wrap;
      }
      .bubble.assistant {
        background: #e9e9eb;
        color: #000;
        border: 1px solid rgba(0,0,0,0.06);
      }
      .bubble.user {
        background: var(--tint);
        color: white;
      }
      .row-right { justify-self: end; }
      .row-left { justify-self: start; }
      .input-bar {
        display: grid;
        grid-template-columns: 1fr 48px;
        gap: 10px;
        align-items: center;
        margin-top: 12px;
      }
      textarea.input {
        resize: none;
        width: 100%;
        min-height: 42px;
        max-height: 140px;
        padding: 12px 14px;
        border-radius: 14px;
        border: var(--border);
        background: white;
        box-shadow: inset 0 -1px 0 rgba(0,0,0,0.04);
        font-family: inherit;
      }
      .send {
        height: 42px;
        width: 48px;
        border-radius: 13px;
        border: none;
        cursor: pointer;
        background: linear-gradient(135deg, var(--tint), var(--tint-2));
        color: white;
        font-weight: 600;
        box-shadow: 0 8px 18px rgba(10,132,255,0.35);
      }
      .send:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        box-shadow: none;
      }
      /* Poke section */
      .pokemon-info { display: flex; align-items: center; gap: 16px; }
      .pokemon-sprite { image-rendering: -webkit-optimize-contrast; background: var(--ios-bg); border-radius: 12px; padding: 10px; }
      .stats { display: grid; gap: 8px; }
      .stat-bar { display: flex; align-items: center; gap: 10px; }
      .stat-label { min-width: 86px; font-size: 13px; color: var(--muted); }
      .stat-value { flex: 1; height: 12px; background: #ededf0; border-radius: 8px; overflow: hidden; }
      .stat-fill { height: 100%; background: linear-gradient(90deg, var(--tint), var(--tint-2)); transition: width 0.3s ease; }

      .loading { color: var(--tint-2); font-size: 16px; }
      .error { color: #e74c3c; padding: 12px 14px; background: #fee; border-radius: 12px; border: 1px solid #f8d0d0; }
    </style>
  </head>
  <body>
    <div id="root"><div class="card"><p class="loading">Cargando UI...</p></div></div>

    <!-- Cargar la app como mÃ³dulo ESM -->
    <script type="module">
      (async () => {
        const rootEl = document.getElementById('root');
        try {
          const React = await import('https://esm.sh/react@18.2.0');
          const { createRoot } = await import('https://esm.sh/react-dom@18.2.0/client');
          const { default: App } = await import('/zero/app.js');
          createRoot(rootEl).render(React.createElement(App));
        } catch (e) {
          rootEl.innerHTML = `<div class="card"><div class="error">Error cargando UI: ${e.message}</div></div>`;
          console.error(e);
        }
      })();
    </script>
  </body>
</html>
